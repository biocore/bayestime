dat = read.csv('~/Dropbox/lab/SFPCA/bayesianSFPCA/application_ECAM/data/metadata_shannon.txt', sep='\t')
ECAM <- dat
usethis::use_data(ECAM, overwrite = T)
pkgbuild::compile_dll()
devtools::load_all('BayesTime')
setwd("~/Dropbox/lab/SFPCA")
devtools::load_all('BayesTime')
data("ECAM")
sfpca_qqplot(ECAM, 'shannon')
View(ECAM)
devtools::load_all("BayesTime")
sfpca_qqplot(ECAM, 'shannon')
devtools::load_all("BayesTime")
sfpca_qqplot(ECAM, 'shannon')
ECAM <- ECAM[!duplicated(ECAM[, c('studyid', 'month_of_life')]), ]
dat <- prepare_data(ECAM, unique_subject_id = 'studyid', time_name = 'month_of_life',
response_name = 'shannon', transform_y='standardize', scale_time=T)
sfpca_stan_results <- sfpca_stan(dat, Nsamples = 1000, Nchain = 3, 3, 3)
sfpca_stan_results <- sfpca_stan(dat, Nsamples = 1000, Nchain = 2, 2, 3)
optimal_model <- sfpca_optimal(sfpca_stan_results)
